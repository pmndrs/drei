---
title: Sampler
sourcecode: src/core/Abstractions/Sampler/Sampler.tsx
---

[![](https://img.shields.io/badge/-storybook-%23ff69b4)](https://drei.pmnd.rs/?path=/story/abstractions-sampler--sampler-st)

<Grid cols={4}>
  <li>
    <Codesandbox id="ehflx3" />
  </li>
  <li>
    <Codesandbox id="k6rcp2" />
  </li>
</Grid>

Declarative abstraction around MeshSurfaceSampler & InstancedMesh.
It samples points from the passed mesh and transforms an InstancedMesh's matrix
to distribute instances on the points.

You can either pass a Mesh and InstancedMesh as children, or use refs when you
can't compose declaratively.

Check the demos & code for more.

### With children

```jsx
<Sampler
  weight="normal"
  transform={transformPoint}
  count={16}
>
  <mesh>
    <sphereGeometry args={[2]} />
  </mesh>
  <instancedMesh args={[null, null, 1000]}>
    <sphereGeometry args={[0.1]} />
  </instancedMesh>
</Sampler>
```

### With refs

```jsx
const { nodes } = useGLTF('my/mesh/url')
const mesh = useRef(nodes)
const instances = useRef()

<instancedMesh args={[null, null, 1000]}>
  <sphereGeometry args={[0.1]} />
</instancedMesh>
<Sampler mesh={mesh} instances={instances} />
```

